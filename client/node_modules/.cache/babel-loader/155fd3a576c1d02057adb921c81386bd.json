{"ast":null,"code":"var _jsxFileName = \"/Users/oscarlosgomezrosario/Desktop/school project repos/Grub-Dash/client/src/orders/OrderEdit.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { deleteOrder, readOrder, updateOrder } from \"../utils/api\";\nimport OrderForm from \"./OrderForm\";\nimport ErrorAlert from \"../layout/ErrorAlert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction OrderEdit() {\n  _s();\n  const history = useHistory();\n  const {\n    orderId\n  } = useParams();\n  const [order, setOrder] = useState({});\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const abortController = new AbortController();\n    readOrder(orderId, abortController.signal).then(setOrder).catch(setError);\n    return () => abortController.abort();\n  }, [orderId]);\n  function submitHandler(updatedOrder) {\n    updateOrder(updatedOrder).then(savedOrder => history.push(`/orders/${savedOrder.id}`)).catch(setError);\n  }\n  function cancelHandler() {\n    history.goBack();\n  }\n  function deleteHandler() {\n    const confirmed = window.confirm(\"Delete this order?\\n\\nYou will not be able to recover it.\");\n    if (confirmed) {\n      deleteOrder(order.id).then(() => history.push(\"/dashboard\")).catch(setError);\n    }\n  }\n  const child = order.id ? /*#__PURE__*/_jsxDEV(OrderForm, {\n    order: order,\n    setOrder: setOrder,\n    onCancel: cancelHandler,\n    onSubmit: submitHandler,\n    readOnly: order.status === \"delivered\",\n    showStatus: true,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mr-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary mr-2\",\n        onClick: cancelHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"oi oi-x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), \" Cancel\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        disabled: order.status === \"delivered\" || order.dishes.length === 0,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"oi oi-check\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), \" Submit\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-danger\",\n        title: \"Delete Order\",\n        disabled: order.status !== \"pending\",\n        onClick: deleteHandler,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"oi oi-trash\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Edit Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ErrorAlert, {\n      error: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), child]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n_s(OrderEdit, \"rkGNT+psVZiYCjSfVdJ3+qdPLXI=\", false, function () {\n  return [useHistory, useParams];\n});\n_c = OrderEdit;\nexport default OrderEdit;\nvar _c;\n$RefreshReg$(_c, \"OrderEdit\");","map":{"version":3,"names":["React","useEffect","useState","useHistory","useParams","deleteOrder","readOrder","updateOrder","OrderForm","ErrorAlert","jsxDEV","_jsxDEV","OrderEdit","_s","history","orderId","order","setOrder","error","setError","abortController","AbortController","signal","then","catch","abort","submitHandler","updatedOrder","savedOrder","push","id","cancelHandler","goBack","deleteHandler","confirmed","window","confirm","child","onCancel","onSubmit","readOnly","status","showStatus","children","className","type","onClick","fileName","_jsxFileName","lineNumber","columnNumber","disabled","dishes","length","title","_c","$RefreshReg$"],"sources":["/Users/oscarlosgomezrosario/Desktop/school project repos/Grub-Dash/client/src/orders/OrderEdit.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { deleteOrder, readOrder, updateOrder } from \"../utils/api\";\nimport OrderForm from \"./OrderForm\";\nimport ErrorAlert from \"../layout/ErrorAlert\";\n\nfunction OrderEdit() {\n  const history = useHistory();\n  const { orderId } = useParams();\n\n  const [order, setOrder] = useState({});\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    readOrder(orderId, abortController.signal).then(setOrder).catch(setError);\n    return () => abortController.abort();\n  }, [orderId]);\n\n  function submitHandler(updatedOrder) {\n    updateOrder(updatedOrder)\n      .then((savedOrder) => history.push(`/orders/${savedOrder.id}`))\n      .catch(setError);\n  }\n\n  function cancelHandler() {\n    history.goBack();\n  }\n\n  function deleteHandler() {\n    const confirmed = window.confirm(\n      \"Delete this order?\\n\\nYou will not be able to recover it.\"\n    );\n    if (confirmed) {\n      deleteOrder(order.id)\n        .then(() => history.push(\"/dashboard\"))\n        .catch(setError);\n    }\n  }\n\n  const child = order.id ? (\n    <OrderForm\n      order={order}\n      setOrder={setOrder}\n      onCancel={cancelHandler}\n      onSubmit={submitHandler}\n      readOnly={order.status === \"delivered\"}\n      showStatus={true}\n    >\n      <div className=\"mr-auto\">\n        <button\n          type=\"button\"\n          className=\"btn btn-secondary mr-2\"\n          onClick={cancelHandler}\n        >\n          <span className=\"oi oi-x\" /> Cancel\n        </button>\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary\"\n          disabled={order.status === \"delivered\" || order.dishes.length === 0}\n        >\n          <span className=\"oi oi-check\" /> Submit\n        </button>\n      </div>\n      <div className=\"col-auto\">\n        <button\n          type=\"button\"\n          className=\"btn btn-danger\"\n          title=\"Delete Order\"\n          disabled={order.status !== \"pending\"}\n          onClick={deleteHandler}\n        >\n          <span className=\"oi oi-trash\" />\n        </button>\n      </div>\n    </OrderForm>\n  ) : (\n    <p>Loading...</p>\n  );\n\n  return (\n    <main>\n      <h1>Edit Order</h1>\n      <ErrorAlert error={error} />\n      {child}\n    </main>\n  );\n}\n\nexport default OrderEdit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}